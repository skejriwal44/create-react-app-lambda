{"ast":null,"code":"var _jsxFileName = \"/Users/shagarw/Downloads/create-react-app-lambda/src/contexts/AuthContext.js\";\nimport React, { useContext, useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { auth } from \"../firebase\";\nconst AuthContext = React.createContext();\nexport function useAuth() {\n  return useContext(AuthContext);\n}\nexport function AuthProvider(_ref) {\n  let {\n    children\n  } = _ref;\n  const [loading, setLoading] = useState(true);\n  const [user, setUser] = useState(null);\n  const history = useHistory();\n  useEffect(() => {\n    auth.onAuthStateChanged(user => {\n      setUser(user);\n      setLoading(false);\n      if (user) history.push('/chats');\n    });\n  }, [user, history]);\n  const value = {\n    user\n  };\n  return /*#__PURE__*/React.createElement(AuthContext.Provider, {\n    value: value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 5\n    }\n  }, !loading && children);\n}","map":{"version":3,"names":["React","useContext","useState","useEffect","useHistory","auth","AuthContext","createContext","useAuth","AuthProvider","children","loading","setLoading","user","setUser","history","onAuthStateChanged","push","value"],"sources":["/Users/shagarw/Downloads/create-react-app-lambda/src/contexts/AuthContext.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from \"react\"\n\nimport { useHistory } from \"react-router-dom\"\n\nimport { auth } from \"../firebase\"\n\nconst AuthContext = React.createContext()\n\nexport function useAuth() { return useContext(AuthContext) }\n\nexport function AuthProvider({ children }) {\n  const [loading, setLoading] = useState(true)\n  const [user, setUser] = useState(null)\n  const history = useHistory()\n\n  useEffect(() => {\n    auth.onAuthStateChanged(user => {\n      setUser(user)\n      setLoading(false)\n      if (user) history.push('/chats')\n    })\n  }, [user, history])\n\n  const value = { user }\n\n  return (\n    <AuthContext.Provider value={value}>\n      {!loading && children}\n    </AuthContext.Provider>\n  )\n}\n"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,EAAsCC,SAAtC,QAAuD,OAAvD;AAEA,SAASC,UAAT,QAA2B,kBAA3B;AAEA,SAASC,IAAT,QAAqB,aAArB;AAEA,MAAMC,WAAW,GAAGN,KAAK,CAACO,aAAN,EAApB;AAEA,OAAO,SAASC,OAAT,GAAmB;EAAE,OAAOP,UAAU,CAACK,WAAD,CAAjB;AAAgC;AAE5D,OAAO,SAASG,YAAT,OAAoC;EAAA,IAAd;IAAEC;EAAF,CAAc;EACzC,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBV,QAAQ,CAAC,IAAD,CAAtC;EACA,MAAM,CAACW,IAAD,EAAOC,OAAP,IAAkBZ,QAAQ,CAAC,IAAD,CAAhC;EACA,MAAMa,OAAO,GAAGX,UAAU,EAA1B;EAEAD,SAAS,CAAC,MAAM;IACdE,IAAI,CAACW,kBAAL,CAAwBH,IAAI,IAAI;MAC9BC,OAAO,CAACD,IAAD,CAAP;MACAD,UAAU,CAAC,KAAD,CAAV;MACA,IAAIC,IAAJ,EAAUE,OAAO,CAACE,IAAR,CAAa,QAAb;IACX,CAJD;EAKD,CANQ,EAMN,CAACJ,IAAD,EAAOE,OAAP,CANM,CAAT;EAQA,MAAMG,KAAK,GAAG;IAAEL;EAAF,CAAd;EAEA,oBACE,oBAAC,WAAD,CAAa,QAAb;IAAsB,KAAK,EAAEK,KAA7B;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACG,CAACP,OAAD,IAAYD,QADf,CADF;AAKD"},"metadata":{},"sourceType":"module"}